# 🎨 Figma MCP Server セットアップガイド

## 📋 **STEP 1: Figmaファイルを開く**

### 1-1. Figmaデスクトップアプリを起動
- Figmaデスクトップアプリを開く（ブラウザ版ではなく、必ずデスクトップアプリ）

### 1-2. ファイルを開く・作成
以下のいずれかを行います：

**A. 既存ファイルを開く場合**
- ダッシュボードから既存のファイルを選択
- または `File` → `Open` で既存ファイルを開く

**B. 新しいファイルを作成する場合**
- `+` ボタンをクリック → `Design file` を選択
- 新しいデザインファイルが作成されます

---

## 🔧 **STEP 2: Dev Mode MCPサーバーを有効化**

### 2-1. Figmaメニューを開く
- 画面左上の **Figmaロゴ** をクリック
- メニューが表示されます

### 2-2. 基本設定を開く
- メニューから **「基本設定」** (または "Preferences") をクリック

### 2-3. MCPサーバーを有効化
- **「Dev Mode MCPサーバーを有効にする」** にチェックを入れる
- 画面下部に確認メッセージが表示されるのを確認

---

## 🎯 **STEP 3: テスト用のフレームを作成・選択**

### 3-1. フレームを作成（まだない場合）
1. 左のツールバーから **Frame tool** (□アイコン) を選択
2. キャンバス上でドラッグしてフレームを作成
3. 右パネルでフレーム名を設定（例：「TestFrame」）

### 3-2. フレーム内にコンテンツを追加
以下のような簡単な要素を追加してください：

**テキスト要素**
- Text tool (T) を選択
- フレーム内をクリックして「Hello World」などのテキストを入力

**図形要素**
- Rectangle tool を選択
- フレーム内に四角形を描画
- 色を設定（Fill から好きな色を選択）

### 3-3. フレームを選択状態にする
- 作成したフレーム全体をクリックして選択
- 選択されると青い枠線が表示されます

---

## 🚀 **STEP 4: Dev Modeを確認**

### 4-1. Dev Modeに切り替え
- 画面右上の **「Dev Mode」** トグルをオンにする
- UIが開発者向けの表示に変わります

### 4-2. 選択状態を維持
- フレームが選択された状態のままにしておく

---

## 💻 **STEP 5: Cursorでテスト**

### 5-1. Cursor MCP設定を適用
1. Cursorを開く
2. `Cursor Settings` → `Features` → `Model Context Protocol`
3. 以下をコピペして保存：

\`\`\`json
{
  "mcpServers": {
    "figma": {
      "url": "http://127.0.0.1:3845/sse"
    }
  }
}
\`\`\`

4. Cursorを再起動

### 5-2. AIでテスト
Figmaでフレームを選択した状態で、CursorのAIチャットに以下を入力：

\`\`\`
選択中のFigmaフレームの詳細情報を教えてください
\`\`\`

\`\`\`
このFigmaフレームをReactコンポーネントとして実装してください
\`\`\`

---

## ✅ **成功の確認方法**

以下のようなレスポンスが返ってくれば成功です：

**✅ 成功例**
- AIがフレームの詳細（サイズ、色、テキスト内容など）を説明
- Reactコンポーネントのコードが生成される
- Figmaのデザイン要素が正確に反映されたコードが表示

**❌ 失敗例**
- "Figmaの情報にアクセスできません"
- "選択されたフレームが見つかりません"
- エラーメッセージが表示される

---

## 🆘 **トラブルシューティング**

### 問題1: MCPサーバーが見つからない
**解決策**
- Figmaデスクトップアプリを再起動
- 基本設定でMCPサーバーを再度有効化

### 問題2: フレームが認識されない
**解決策**
- フレームがしっかり選択されているか確認
- Dev Modeがオンになっているか確認
- フレーム内に何らかのコンテンツがあるか確認

### 問題3: Cursorで応答がない
**解決策**
- MCP設定が正しく適用されているか確認
- Cursorを完全に再起動
- 接続テスト：`figma-mcp-test.html` をブラウザで開いてテスト

---

## 🎯 **次のステップ**

成功したら、以下のような高度な使い方を試してみてください：

\`\`\`
選択したFigmaフレームを、Hostclub用のReactコンポーネントとして実装し、Tailwind CSSを使用してスタイリングしてください
\`\`\`

\`\`\`
このFigmaデザインをもとに、TypeScript + React + Tailwind CSSでコンポーネントを作成し、Hostclubプロジェクトのデザインシステムに合わせてください
\`\`\` 